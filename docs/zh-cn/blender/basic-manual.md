# Blender 基础操作指南

本篇指南将会介绍 Blender 中最基本的操作，如操作物体、编辑网格等。受限于篇幅，我们不会介绍更多高级的操作，也不会对操作有过多的延伸讲解，仅保证读者能快速上手 Blender，更多的操作还需要您自行花时间了解学习。

!!! note "说在前面"
    以下介绍均为默认快捷键下的行为。若您不喜欢默认快捷键或是无法习惯，可以自行在设置中更改。若有觉得讲解不详细处，建议打开 Blender 进行尝试性练习。

## 视图相关操作

### 更改视角

Blender 默认行为下，按住鼠标中键可环绕检视，按住 `Shift` 的同时使用鼠标中键可以平移视角（拖动视角）。

3D视图的右上角有一个座标轴，点击其中的轴即可切换至对应的视图。但我们推荐使用快捷键更方便地进行切换。按住 `~` 键（即键盘 `Tab` 上方的那个键，用波浪号指代是为了方便找到），然后将鼠标拖至对应的方向然后松开 `~`，即可切换视图。常用的有：

- 向上：顶视图
- 向左上：前视图
- 向左：左视图
- 向右下：将视角调整至刚好容纳此时选中的对象

### 渲染模式

Blender 中一共有四种渲染模式，按住 `Z` 键拖动鼠标可以进行切换。制图时最常用的是 **线框模式** 和 **材质预览模式**。

有时在[编辑模式](#编辑模式)下，我们想要预览材质的同时，能够选中物体背面的某些顶点，此时可以按下 `Alt + Z` 切换透视。

## 物体相关操作

### 创建物体

创建物体的快捷键为 `Shift + A`。安装BBP插件后可以直接创建 Ballance 相关的物体，如路面、轨道等。

### 操作物体

最基本的三种操作：

- 移动物体：`G`
- 旋转物体：`R`
- 缩放物体：`S`

操作方法为，首先单击选中物体，然后按下快捷键，然后移动鼠标即可操作，到达合适结果后单击以应用，右键单击可以取消操作。

按下操作快捷键后，可以再选择按下 `X`，`Y`，`Z` 键，可以将操作限定在某一个轴上。修改3D视图顶部正中间的座标系可以更改操作的座标系。

在移动鼠标时也可以选择按下数字，可以输入具体想要操作的数值。常用示例：

- 想把一个物体沿 X 轴移动 5 单位长度：`G` `X` `5`
- 想把一个物体绕 Z 轴旋转 90°：`R` `Z` `90`

### 应用操作

按 `N` 打开物体检视面板可以看到物体的位置、旋转、缩放以及尺寸属性。

应用操作，即将物体目前的（相对于世界原点的）位移、旋转、缩放应用至网格本身，因此可以保持物体当前的视觉状态不变，具体的效果表现为：

- 物体不位于世界原点时，应用位置会将物体的原点改至世界原点，即物体座标会设为全零。
- 物体有旋转角度时，应用旋转会将物体固定在此旋转角度，同时将角度清零。
- 物体有不为1的缩放时，应用缩放会将物体大小固定，同时将缩放设为1。

特殊情况下可能会用到应用操作，快捷键为 `Ctrl + A`。

### 复制物体

选中物体的情况下按下 `Shift + D` 即可复制。左下角的操作选项中可以设置是否关联，若关联，则仅会复制物体本身，其网格、材质等将会与原物体共用。

### 结合物体

选中多个物体的情况下按下 `Ctrl + J` 即可将物体结合到一起，变成同一个物体。

在场景中路面、轨道部件过多时很有用。但结合后不方便调整，且容易误操作，所以建议在导出地图或发布地图前再进行结合。

一般结合物体也可以与顶点合并操作相结合。合并了路面后若有重合的顶点，合并它们将节省顶点数量。

## 编辑模式

编辑模式对应了一个物体的网格，可以编辑其网格形状等。进入编辑模式的快捷键为 `Tab`。

编辑模式下有多种选择方式，其中常用的三种为：

- `1`：顶点模式
- `2`：边线模式
- `3`：面模式

编辑模式下的一般操作与操作普通物体相同，但操作顶点时会牵连其相连的边、面，因此需要更加小心谨慎。

编辑模式下的常用操作有：

- `K`：切割工具，可以在已有的面上切割出新的边线。
- `Ctrl + R`：环切工具。
- `E`：挤出工具。在 Ballance 制图中不常用。
- `F`：补面工具。用法为先选中一系列顶点，按下 `F` 后会用这一系列顶点创建新的面。
- `Shift + N`：重新计算法线。
- `P`：分离工具。能够将选中的部分或相连的部分独立成新的物体，在分离已结合的物体时很有用。
- `L`：选择与当前选中相连的对象。
- `M`：合并对象。一般对顶点使用，选择全部顶点后按距离合并，可以减少顶点数目。但在涉及法线合并时记得选中“锐边”以防法线出错。具体原因可以查看[合并顶点注意事项](./merge-vertices.md)。
